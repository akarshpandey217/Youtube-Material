/*
 youtube-material 2016-08-06 
*/
!function(a){youtubeApp.directive("comment",function(){return{restrict:"E",scope:{comment:"="},templateUrl:"src/js/directives/comment/comment.html",controller:["$scope","$sce",function(a,b){if(a.comment.snippet.topLevelComment.snippet.publishedAt==a.comment.snippet.topLevelComment.snippet.updatedAt?a.isEdited=!0:a.isEdited=!1,a.comment.snippet.topLevelComment.snippet.updatedAt=moment(a.comment.snippet.topLevelComment.snippet.updatedAt).format("h:mm:ss A, MMMM Do YYYY"),a.comment.snippet.topLevelComment.snippet.updatedAt=moment(a.comment.snippet.topLevelComment.snippet.updatedAt).fromNow(),a.comment.snippet.topLevelComment.snippet.textDisplay=b.trustAsHtml(a.comment.snippet.topLevelComment.snippet.textDisplay),a.comment.replies)for(var c=0;c<a.comment.replies.comments.length;c++)a.comment.replies.comments[c].snippet.textDisplay=b.trustAsHtml(a.comment.replies.comments[c].snippet.textDisplay),a.comment.replies.comments[c].snippet.updatedAt=moment(a.comment.replies.comments[c].snippet.updatedAt).format("h:mm:ss A, MMMM Do YYYY")}]}})}(window.angular),function(a){youtubeApp.directive("imgLoader",function(){return{restrict:"E",scope:{src:"=imgSrc"},templateUrl:"src/js/directives/imgLoader/imgLoader.html",link:function(b,c,d){b.loader=!0,a.element(c.children()[1]).on("load",function(a){b.$apply(b.loader=!1)})}}})}(window.angular),function(a){youtubeApp.directive("spinner",function(){return{restrict:"E",templateUrl:"src/js/directives/spinner/spinner.html"}})}(window.angular),function(a){youtubeApp.directive("videoCarousel",function(){return{restrict:"E",scope:{category:"=?",channelId:"=?",order:"=?"},templateUrl:"src/js/directives/videoCarousel/videoCarousel.html",controller:["$rootScope","$scope","$sce","searchService",function(a,b,c,d){var e=function(){return a.isMobile?2:a.isTablet?4:6};b.$watch("$root.isMobile.toLocaleString()+$root.isTablet.toLocaleString()",function(a,c){a!=c&&b.scrollFireLoad()}),b.loader=!0,b.setMinHeight=function(){if(!b.loader&&!b.videos.length)return{"min-height":"100px"}},b.nextOrPrev=function(a){b.loader=!0,b.isNextClicked=a;var c=null;c=b.category?{pageToken:a?b.nextPageToken:b.prevPageToken,videoCategoryId:b.category.id,part:"snippet,statistics,contentDetails",maxResults:e(),chart:"mostPopular"}:{order:b.order.value,channelId:b.channelId,part:"snippet",maxResults:e(),pageToken:a?b.nextPageToken:b.prevPageToken},f(c)},b.scrollFireLoad=function(){var a=null;b.category?(b.title=b.category.snippet.title,a={videoCategoryId:b.category.id,part:"snippet,statistics,contentDetails",maxResults:e(),chart:"mostPopular"}):(b.title=b.order.title,a={order:b.order.value,channelId:b.channelId,part:"snippet",maxResults:e()}),f(a)};var f=function(a){b.category?d.getVideos(a).then(function(a){for(var c=0;c<a.items.length;c++)a.items[c].snippet.publishedAt=moment(a.items[c].snippet.publishedAt).fromNow(),a.items[c].videoId=a.items[c].id;b.nextPageToken=a.nextPageToken,b.prevPageToken=a.prevPageToken,b.videos=a.items,b.loader=!1}):d.searchVideos(a).then(function(a){b.videos=a.items,b.nextPageToken=a.nextPageToken,b.prevPageToken=a.prevPageToken,b.loader=!1;for(var c={videos:b.videos,part:"statistics,contentDetails"},e=0;e<a.items.length;e++)b.videos[e].snippet.publishedAt=moment(b.videos[e].snippet.publishedAt).fromNow(),b.videos[e].videoId=b.videos[e].id.videoId;d.getVideoDetails(c).then(function(a){for(var c=0;c<a.length;c++)b.videos[c].statistics=a[c].statistics,b.videos[c].contentDetails=a[c].contentDetails})})}}]}})}(window.angular),function(a){youtubeApp.directive("videoItem",function(){return{restrict:"E",scope:{video:"=",videoDetail:"=",hideChannel:"="},templateUrl:"src/js/directives/videoItem/videoItem.html",link:function(a,b,c){a.video.snippet.publishedAt=moment(a.video.snippet.publishedAt).fromNow()}}})}(window.angular),function(a){youtubeApp.factory("iframeApiService",["$q","$window",function(a,b){var c={},d=a.defer();return b.onYouTubeIframeAPIReady=function(){d.resolve()},c.onReady=function(a){d.promise.then(a)},c}]),youtubeApp.directive("youtubeVideo",["iframeApiService",function(a){return{restrict:"E",scope:{videoId:"@",autoplay:"@"},template:"<div></div>",link:function(b,c,d){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f);var g;a.onReady(function(){g=new YT.Player(c.children()[0],{playerVars:{autoplay:"true"==b.autoplay?1:0,modestbranding:1,showinfo:0,rel:0},videoId:b.videoId})}),b.$watch("videoId",function(a,b){a!=b&&g.cueVideoById(a)})}}}])}(window.angular);